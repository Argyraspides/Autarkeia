{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "gdb Launch",
      "type": "gdb",
      "request": "launch",
      "target": "${workspaceFolder}/build/examples/text_drawing/TextDrawing",
      "cwd": "${workspaceFolder}",
      // "valuesFormatting": "prettyPrinters",
      "preLaunchTask": "CMake: build",
      "autorun": [
        "set print pretty on",
        "python import sys",
        "python sys.path.insert(0, '/usr/share/gcc/python')",
        "python from libstdcxx.v6.printers import register_libstdcxx_printers",
        "python register_libstdcxx_printers(None)"
      ]
    },
    {
      "name": "gdb Attach",
      "type": "gdb",
      "request": "attach",
      // Somehow, this goes to the "inputs" array and then checks for the instructions under "processId" ... understand 
      // how this works, please
      "target": "${input:processId}",
      "cwd": "${workspaceFolder}",
      // "valuesFormatting": "parseText"
      "autorun": [
        "set print pretty on",
        "python import sys",
        "python sys.path.insert(0, '/usr/share/gcc/python')",
        "python from libstdcxx.v6.printers import register_libstdcxx_printers",
        "python register_libstdcxx_printers(None)"
      ]
    },
    {
      "name": "gdb Remote",
      "type": "gdb",
      "request": "attach",
      "target": "${input:remoteTarget}",
      "remote": true,
      "cwd": "${workspaceFolder}",
      "valuesFormatting": "parseText"
    }
  ],
  "inputs": [
    {
      "id": "processId",
      "type": "command",
      "command": "shellCommand.execute",
      "args": {
          "command": "ps axww --no-headers k comm -o '%p|%c|%p|%a' | sed -e 's/^\\s*//' -e 's/\\s*|\\s*/|/g'",
          "fieldSeparator": "|",
          "description": "Select the process to attach to"
      }
    }
  ]
}